@import "../../assets/styles/custom";

$input-text-width: 220px;
$input-text-padding: 8px;

.p-input-text {
  ::ng-deep & {
    // material styles override
    &.mat-form-field-appearance-standard.mat-form-field-can-float.mat-form-field-should-float .mat-form-field-label {
      width: 100%;
      transform: translateY(-23px);
    }
    .mat-form-field-label-wrapper {
      top: -16px;
      padding-top: 16px;
    }
    &.mat-form-field.mat-focused .mat-form-field-label,
    &.mat-form-field.mat-form-field-invalid .mat-form-field-label {
      color: $gray-scale-700;
    }
    .p-input-text-input {
      font-family: $font-family-basic;
      font-size: $small-font-size;
      max-width: $input-text-width - $input-text-padding;
      line-height: 20px;
      color: $primary-a-900;
      padding-left: $input-text-padding;
      caret-color: $primary-a-900;
    }
    .mat-form-field-infix {
      width: $input-text-width;
      padding-bottom: 6px;
    }
    &.mat-form-field-appearance-standard .mat-form-field-flex {
      padding-top: 0;
    }
    &.mat-form-field-appearance-standard .mat-form-field-underline {
      background-color: transparent;
      box-shadow: inset 0px -1px 0px $gray-scale-600;
    }
    &.mat-form-field.mat-focused .mat-form-field-underline,
    &:not(.mat-form-field-disabled):not(.mat-form-field-invalid)
            .mat-form-field-flex:hover~.mat-form-field-underline {
      background-color: transparent;
      box-shadow: inset 0px -1px 0px $primary-a-900;
    }
    .mat-form-field-ripple {
      display: none;
    }
    .mat-form-field-subscript-wrapper {
      margin-top: 5px;
    }
    .mat-error {
      font-family: $font-family-basic;
      font-size: $tiny-font-size;
      color: $supportive-alert-500;
      line-height: 12px;
    }

    // disabled
    &.mat-form-field-disabled {
      .mat-input-element {
        color: $gray-scale-600;
      }
      .mat-form-field-underline {
        box-shadow: inset 0px -1px 0px $gray-scale-400;
      }
    }

    // error state
    &.ng-invalid {
      .mat-form-field-underline {
        box-shadow: inset 0px -1px 0px $supportive-alert-500;
      }
      &.mat-form-field .mat-form-field-flex:hover~.mat-form-field-underline,
      &.mat-form-field.mat-focused .mat-form-field-underline {
        box-shadow: inset 0px -1px 0px $supportive-alert-700;
      }
    }

    // readonly
    &.p-input-text-readonly {
      &:not(.mat-form-field-disabled):not(.mat-form-field-invalid) .mat-form-field-flex:hover~.mat-form-field-underline,

      .mat-form-field-underline {
        box-shadow: none;
      }
    }

    //icon
    .mat-form-field-suffix {
      align-self: flex-end;
    }
    &-icon {
      padding-bottom: 6px;
      .mat-form-field-disabled &,
      .p-input-readonly & {
        display: none;
      }
    }
  }
}
