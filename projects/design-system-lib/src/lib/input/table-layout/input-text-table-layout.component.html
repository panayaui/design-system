<div class="input-table-wrapper">

  <ng-template [ngIf]="isExpandable" [ngIfElse]="static">
    <button class="input-table-trigger"
            (click)="isHidden = !isHidden">
      <p-icon class="input-table-trigger-icon"
              [class.closed]="isHidden"
              iconName="chevron-down"
              width="16"
              height="auto"
              strokeWidth="3"></p-icon>
      <span class="headline-2-bold">{{title}}</span>
    </button>
  </ng-template>

  <ng-template #static>
    <h3 class="input-table-static-title headline-2-bold">{{title}}</h3>
  </ng-template>


  <div tabindex="-1"
       attr.aria-label="{{title}}"
       class="input-table-container"
       [class.collapsed]="isHidden">
    <table class="input-table">
      <tbody class="input-table-body">
      <ng-container *ngFor="let input of table">
        <tr class="input-table-row">
          <th class="input-table-header">
             <span class="input-table-header-container">
              <span class="input-table-header-text paragraph-2-default">
                {{input.tableHeader.name}}
              </span>
              <p-icon *ngIf="input.tableHeader.attention"
                      class="input-table-header-attention"
                      iconName="alert-circle"
                      width="16"
                      height="16"
                      stroke="#2D3047"
                      [matTooltip]="input.tableHeader.tooltipText"
                      matTooltipPosition="above"
                      matTooltipClass="p-tooltip above"></p-icon>
              <span *ngIf="input.tableHeader.required"
                    class="input-table-header-required">
                &#42;
              </span>
            </span>
          </th>
          <td class="input-table-data">
            <p-input-text [type]="input.tableData.type"
                          [label]="input.tableData.label"
                          [ariaLabel]="input.tableData.ariaLabel"
                          [placeholder]="input.tableData.placeholder"
                          [errorMessage]="input.tableData.errorMessage"
                          [disabled]="input.tableData.disabled"
                          [readonly]="input.tableData.readonly"
                          [value]="input.tableData.value"
                          [validators]="input.tableData.validators">
            </p-input-text>
          </td>
        </tr>
      </ng-container>
      </tbody>
    </table>
  </div>
</div>
