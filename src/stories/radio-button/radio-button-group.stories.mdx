import {Meta, Story, Canvas, Preview} from '@storybook/addon-docs/blocks';
import {moduleMetadata} from '@storybook/angular';
import {CommonModule} from '@angular/common';
import {MatRadioModule} from '@angular/material/radio';
import {MatFormFieldModule} from '@angular/material/form-field';
import {ReactiveFormsModule, Validators} from '@angular/forms';
import {RadioButtonGroupComponent} from 'projects/design-system-lib/src/public-api';
import {RadioButtonModule} from 'projects/design-system-lib/src/public-api';

<Meta title='Components/Radio Button/Group' component={RadioButtonGroupComponent}
      decorators={[
        moduleMetadata({
          imports: [RadioButtonModule]
              })
      ]}
      args={{
        optionsList: [
          {label: 'Label'},
          {label: 'Label'},
          {label: 'Label'}
        ]
      }}
/>

# Radio Button / Group

export const Template = (args) => <RadioButtonGroupComponent {...args} />

###### Selector
```html
  <p-radio-group></p-radio-group>
```
###### Radio Button Group
<Canvas>
  <Story name="Default"
    args={{
      label: 'Group Label',
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Option Checked"
    args={{
      label: 'Group Label',
      optionsList: [
        {label: 'Label'},
        {label: 'Label'},
        {label: 'Label', checked: true}
      ]
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Group Disabled"
    args={{
      label: 'Group Disabled',
      disabled: true,
      optionsList: [
        {label: 'Label'},
        {label: 'Label'},
        {label: 'Label', checked: true}
      ]
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Validation Error"
    args={{
      label: 'Group Label',
      validators: Validators.required,
      errorMessage: 'Validation text'
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### In Line
<Canvas>
  <Story name="In Line"
    args={{
      inLine: true,
      optionsList: [
          {label: 'File'},
          {label: 'Link'},
          {label: 'Label'}
        ]
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### Component
```ts
export class RadioButtonGroupComponent implements OnInit {
  @Input() label: string;
  @Input() optionsList: IRadioButton[];
  @Input() errorMessage: string;
  @Input() groupValue: any;
  @Input() selected: any;
  @Input() disabled: boolean = false;
  @Input() required: boolean = false;
  @Input() validators: ValidatorFn[];
  public fieldFormControl: FormControl;

  ngOnInit(): void {
    this.fieldFormControl = new FormControl(
      {value: this.groupValue, disabled: this.disabled},
      this.validators);
  }
}
```

###### Interface IRadioButton
```ts
export interface IRadioButton {
  value: any;
  label?: string;
  ariaLabel?: string;
  checked?: boolean;
  disabled?: boolean;
}
```

