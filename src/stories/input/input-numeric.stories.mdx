import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks';
import {moduleMetadata} from '@storybook/angular';
import {InputNumericComponent} from 'projects/design-system-lib/src/public-api';
import {InputNumericSizeEnum} from 'projects/design-system-lib/src/public-api';
import {InputModule} from 'projects/design-system-lib/src/public-api';
import {Validators} from '@angular/forms';

<Meta title='Components/Input/Numeric/Overview' component={InputNumericComponent}
decorators={[
  moduleMetadata({
    imports: [InputModule]
        })
]} />

# Numeric Input

export const Template = (args) => <InputNumericComponent {...args} />

###### Selector

```html
  <p-input-numeric></p-input-numeric>
```

###### Size
<Canvas>
  <p className="story-title hidden-text">size</p>
  <p className="story-title">Small</p>
  <p className="story-title">Medium</p>
  <p className="story-title">Large</p>
  <p className="story-title">Label First</p>
  <Story name="Small Label First"
     args={{
         label: 'Label',
         ariaLabel: 'Label',
         value: 100,
         validators: Validators.required,
         size: InputNumericSizeEnum.Small
     }}>
     {Template.bind({})}
  </Story>
  <Story name="Medium Label First"
    args={{
        label: 'Label',
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        size: InputNumericSizeEnum.Medium
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Large Label First"
    args={{
        label: 'Label',
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        size: InputNumericSizeEnum.Large
    }}>
    {Template.bind({})}
  </Story>
  <p className="story-title">Label Last</p>
  <Story name="Small Label Last"
    args={{
       label: 'Label',
       ariaLabel: 'Label',
       value: 100,
       validators: Validators.required,
       size: InputNumericSizeEnum.Small,
       labelLast: true
    }}>
  {Template.bind({})}
  </Story>
  <Story name="Medium Label Last"
    args={{
       label: 'Label',
       ariaLabel: 'Label',
       value: 100,
       validators: Validators.required,
       size: InputNumericSizeEnum.Medium,
       labelLast: true
    }}>
  {Template.bind({})}
  </Story>
  <Story name="Large Label Last"
    args={{
       label: 'Label',
       ariaLabel: 'Label',
       value: 100,
       validators: Validators.required,
       size: InputNumericSizeEnum.Large,
       labelLast: true
    }}>
  {Template.bind({})}
  </Story>
  <p className="story-title">No Label</p>
  <Story name="Small No Label"
    args={{
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        size: InputNumericSizeEnum.Small
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Medium No Label"
    args={{
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        size: InputNumericSizeEnum.Medium
    }}>
    {Template.bind({})}
  </Story>
  <Story name="Large No Label"
    args={{
        ariaLabel: 'Label',
        value: 100,
        validators: Validators.required,
        size: InputNumericSizeEnum.Large
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### With Icon On Hover (Menu Trigger)
<Canvas>
  <Story name="With Icon"
     args={{
          label: 'Items',
          value: 50,
          validators: Validators.required,
          size: InputNumericSizeEnum.Small,
          labelLast: true,
          iconName: 'chevron-down'
     }}>
     {Template.bind({})}
  </Story>
</Canvas>

###### Component
```ts
export class InputNumericComponent implements OnInit {
  @Input() type: string = 'number';
  @Input() label: string;
  @Input() ariaLabel: string; // required
  @Input() placeholder: number;
  @Input() errorMessage: string;
  @Input() disabled: boolean = false;
  @Input() readonly: boolean = false;
  @Input() value: number;
  @Input() validators: ValidatorFn[];
  @Input() labelLast: boolean = false;
  @Input() size: InputNumericSizeEnum = InputNumericSizeEnum.Large;
  @Input() matcher: ErrorStateMatcher;
  public customControl: FormControl;

  public get classes(): string[] {
    const classParams = [];
    this.readonly ? classParams.push('p-input-numeric-readonly') : null;
    classParams.push(`p-input-numeric-${this.size}`);
    return classParams;
  }

  ngOnInit(): void {
    this.customControl = new FormControl(
      {value: this.value, disabled: this.disabled},
      this.validators);
  }
}
```
###### Size Enum
```ts
export enum InputNumericSizeEnum {
  Small = 'small',
  Medium = 'medium',
  Large = 'large'
}
```

