import {Meta, Story, Canvas} from '@storybook/addon-docs/blocks';
import {moduleMetadata} from '@storybook/angular';
import {MastheadComponent} from 'projects/design-system-lib/src/public-api';
import {MastheadModule} from 'projects/design-system-lib/src/public-api';

<Meta title='Components/Masthead'
  component={MastheadComponent}
  decorators={[
    moduleMetadata({
      imports: [MastheadModule]
    })
  ]}
  args={{
    megaMenu:  {
      name: 'UK Ongoing Changes'
    },
    navList: [
      {
        name: 'Overview',
        divider: true,
        subMenu: [
          {
            name: 'Dashboards'
          },
          {
            name: 'Cycles Progress'
          },
          {
            name: 'Project Details'
          }
        ]
      },
      {
        name: 'Development',
        badge: '0',
        subMenu: [
          {
            name: 'All Development'
          },
          {
            name: 'Planning board'
          }
        ]
      },
      {
        name: 'Tests',
        badge: '1',
        selected: true,
        subMenu: [
          {
            name: 'Test Tree'
          },
          {
            name: 'Test List'
          },
          {
            name: 'Playlist Execution'
          }
        ]
      },
      {
        name: 'Defects',
        badge: '2',
        subMenu: [
          {
            name: 'Defects'
          },
          {
            name: 'System-Wide Defects'
          }
        ]
      },
      {
        name: 'Reports'
      },
      {
        name: 'Corrections'
      }
    ],
    mastheadSearch: {
      filterAriaLabel: 'Search link',
      filterPlaceholder: 'Search',
      recentlyViewed: [
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state or to deleted defect needs empty state paginating to deleted defect needs empty state paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state or to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        },
        { entity: 'User Story 17915',
          linkName: 'Paginating to deleted defect needs empty state',
          link: 'https://emea.panaya.com/site/rdx/tm/10605/development/requirementDetails/1642'
        }
      ]
    },
    settingsList: [
      {
        name: 'configuration'
      },
      {
        name: 'code box',
        selected: true
      },
      {
        name: 'users'
      }
    ],
    megaMenuList: [
      {
        title: 'projects',
        titleIcon: 'home',
        linksList: [
          {
            name: 'Panaya On Going',
            link: 'https://feathericons.com/'
          }
        ],
        footerLink: {
          name: 'All Projects',
          link: 'https://feathericons.com/'
        }
      },
      {
        title: 'releases',
        titleIcon: 'rocket',
        linksList: [
          {
            name: '21.11 (FF 21-Oct)',
            link: 'https://feathericons.com/'
          },
          {
            name: '21.11 (FF 21-Oct)',
            link: 'https://feathericons.com/'
          },
          {
            name: '21.11 (FF 21-Oct)',
            link: 'https://feathericons.com/'
          },
          {
            name: '21.11 (FF 21-Oct)',
            link: 'https://feathericons.com/'
          }
        ],
        footerLink: {
          name: 'All Releases',
          link: 'https://feathericons.com/'
        }
      },
      {
        title: 'systems',
        titleIcon: 'system',
        linksList: [
          {
            name: 'PanayaEAD',
            link: 'https://feathericons.com/'
          },
          {
            name: 'PanayaEAD',
            link: 'https://feathericons.com/'
          }
        ],
        footerLink: {
          name: 'All Systems',
          link: 'https://feathericons.com/'
        }
      },
      {
        title: 'portfolio',
        titleIcon: 'portfolio',
        linksList: [
          {
            name: 'PanayaEAD',
            link: 'https://feathericons.com/'
          }
        ]
      }
    ]
  }}
/>

export const Template = (args) => <MastheadComponent {...args} />

# Masthead

###### Selector
```html
  <p-masthead></p-masthead>
```
###### Regular
<Canvas>
  <Story name="Masthead"
    args={{
    }}>
    {Template.bind({})}
  </Story>
</Canvas>

###### Component
```ts
export class MastheadComponent {
  @Input() megaMenu: { name: string };
  @Input() navList: IMastheadMenuItem[];
  @Input() mastheadSearch: {
    filterAriaLabel: string;
    filterPlaceholder: string;
    recentlyViewed: any[];
  };
  @Input() settingsList: IMastheadMenuItem[];
  @Input() megaMenuList: IMegaMenuColumn[];
  public buttonType = ButtonTypeEnum;
  public searchVisible: boolean = false;
  public settingsVisible: boolean = false;
  public megaMenuVisible: boolean = false;
}
```
###### IMastheadMenuItem {
```ts
export interface IMastheadMenuItem {
  name: string;
  megaMenu?: boolean;
  badge?: string;
  selected?: boolean;
  subMenu?: { name: string }[];
}
```
###### IMegaMenuColumn {
```ts
export interface IMegaMenuColumn {
  title: string;
  titleIcon: string;
  linksList: {
    name: string;
    link: string;
  }[];
  footerLink: {
    name: string;
    link: string;
  };
}
```
